(()=>{"use strict";var t,e,s,o,a,i,r={860:t=>{t.exports=require("express")},496:t=>{t.exports=require("sequelize")},17:t=>{t.exports=require("path")},556:()=>{const t=new bootstrap.Modal("#modal");document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("input#phoneCustomer"),e=document.querySelector("input#phoneEmployee");"http://localhost:8000/employees"===window.location.href?IMask(e,{mask:"{495}-00-00"}):"http://localhost:8000/customers"!==window.location.href&&"http://localhost:8000/suppliers"!==window.location.href||IMask(t,{mask:"{8}-000-000-00-00"})})),new Vue({el:"#app",data:{deleteItemsId:[],modal:{visibleCheckBox:!1,addModal:!1},positions:[],employees:[],books:[],customers:[],purchases:[],receipts:[],suppliers:[],form:{employee:{FIO:"",phone:"",position_id:""},position:{name:"",salary:""},book:{title:"",author:"",description:"",cost:"",year:"",quantity:""},customer:{FIO:"",email:"",phone:""},purchaser:{quantity:"",book_id:"",employee_id:"",customer_id:""},receipt:{providerId:""},supplier:{name:"",phone:"",address:""}}},methods:{...{async getBooks(){try{await fetch("http://localhost:8000/api/books").then((t=>t.json())).then((t=>this.books=t.items))}catch(t){console.log(t)}},async addBook(){try{const t=await fetch("http://localhost:8000/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.forms.book)}).then((t=>t.json()));t.title?(this.books=[t,...this.books],this.closeModals()):"name is occupied"===t?.detail?alert("Книга с таким названием уже есть"):alert("Не удалось добавить книгу")}catch(t){console.log(t),alert("Не удалось добавить книгу")}},async removeBooks(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/books",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({BooksId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить книгу");this.deleteItemsId.forEach((t=>{this.books=this.books.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t)}}},...{async getEmployees(){try{await fetch("http://localhost:8000/api/employees").then((t=>t.json())).then((t=>this.employees=t.items))}catch(t){console.log(t)}},async addEmployee(){try{const t=await fetch("http://localhost:8000/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:this.form.employee.FIO.split(" ")[1],last_name:this.form.employee.FIO.split(" ")[0],patronymic:this.form.employee.FIO.split(" ")[2],phone:this.form.employee.phone,position_id:this.form.employee.position_id})}).then((t=>t.json()));t.first_name?(this.employees=[t,...this.employees],this.closeModals()):alert("Не удалось добавить сотрудника")}catch(t){console.log(t),alert("Не удалось добавить сотрудника")}},async removeEmployee(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/employees",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeesId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить сотрудника");this.deleteItemsId.forEach((t=>{this.employees=this.employees.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить сотрудника")}}},...{async getPositions(){try{await fetch("http://localhost:8000/api/positions").then((t=>t.json())).then((t=>this.positions=t.items))}catch(t){console.log(t)}},async addPosition(){try{const t=await fetch("http://localhost:8000/api/positions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.form.position.name[0].toUpperCase()+this.form.position.name.slice(1),salary:this.form.position.salary||null})}).then((t=>t.json()));t?.name?(this.positions=[t,...this.positions],this.closeModals()):"name is occupied"===t?.detail?alert("Должность с таким названием уже существует"):alert("Не удалось добавить должность")}catch(t){console.log(t),alert("Не удалось добавить должность")}},async removePosition(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/positions",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({positionsId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить должность");this.deleteItemsId.forEach((t=>{this.positions=this.positions.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить должность")}},getPositionName(t){return this.positions?.filter((e=>e.id===t))[0]?.name}},...{async getCustomers(){try{await fetch("http://localhost:8000/api/customers").then((t=>t.json())).then((t=>this.customers=t.items))}catch(t){console.log(t)}},async addCustomer(){try{const t=await fetch("http://localhost:8000/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:this.form.customer.FIO.split(" ")[1],last_name:this.form.customer.FIO.split(" ")[0],patronymic:this.form.customer.FIO.split(" ")[2],email:this.form.customer.email,phone:this.form.customer.phone})}).then((t=>t.json()));t?.first_name?(this.customers=[t,...this.customers],this.closeModals()):alert("Не удалось добавить клиента")}catch(t){console.log(t),alert("Не удалось добавить клиента")}},async removeCustomer(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/customers",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({customersId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.customers=this.customers.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},...{async getPurchases(){try{await fetch("http://localhost:8000/api/purchases").then((t=>t.json())).then((t=>this.purchases=t.items))}catch(t){console.log(t)}},async addPurchaser(){try{(await fetch("http://localhost:8000/api/purchases",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:this.form.purchaser.quantity,book_id:this.form.purchaser.book_id,employee_id:this.form.purchaser.employee_id,customer_id:this.form.purchaser.customer_id})}).then((t=>t.json())))?.quantity?(this.closeModals(),await this.getPurchases()):alert("Не удалось добавить клиента")}catch(t){console.log(t),alert("Не удалось добавить клиента")}},async removePurchaser(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/purchases",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({purchasesId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.purchases=this.purchases.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},...{async getReceipts(){try{await fetch("http://localhost:8000/api/receipts").then((t=>t.json())).then((t=>this.receipts=t.items))}catch(t){console.log(t)}},async addReceipt(){try{(await fetch("http://localhost:8000/api/receipts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({providerId:this.form.receipt.providerId})}).then((t=>t.json())))?.date?(this.closeModals(),await this.getReceipts()):alert("Не удалось добавить поступление")}catch(t){console.log(t),alert("Не удалось добавить поступление")}},async removeReceipt(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/receipts",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiptsId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.receipts=this.receipts.filter((e=>e.receiptsID!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},...{async getSuppliers(){try{await fetch("http://localhost:8000/api/suppliers").then((t=>t.json())).then((t=>this.suppliers=t.items))}catch(t){console.log(t)}},async addSupplier(){try{const t=await fetch("http://localhost:8000/api/suppliers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${this.form.supplier.name.split(" ")[0]} "${this.form.supplier.name.split(" ")[1]}"`,phone:this.form.supplier.phone,address:this.form.supplier.address})}).then((t=>t.json()));t?.name?(this.suppliers=[t,...this.suppliers],this.closeModals()):alert("Не удалось добавить клиента")}catch(t){console.log(t),alert("Не удалось добавить клиента")}},async removeSupplier(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/suppliers",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({suppliersId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.suppliers=this.suppliers.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},closeModals(){this.modal.addModal=!1,t.hide()},pushIdForDelete(t){this.deleteItemsId.includes(t)?this.deleteItemsId=this.deleteItemsId.filter((e=>e!=t)):this.deleteItemsId.push(t)},showCheckBox(){this.modal.visibleCheckBox=!this.modal.visibleCheckBox,this.deleteItemsId=[]},showModal(){this.modal.addModal=!this.modal.addModal,t.show()}},mounted(){(async()=>{"http://localhost:8000/books"===window.location.href?await this.getBooks():"http://localhost:8000/employees"===window.location.href?(await this.getEmployees(),await this.getPositions()):"http://localhost:8000/positions"===window.location.href?await this.getPositions():"http://localhost:8000/customers"===window.location.href?await this.getCustomers():"http://localhost:8000/purchases"===window.location.href?await this.getPurchases():"http://localhost:8000/receipts"===window.location.href?(await this.getReceipts(),await this.getSuppliers()):"http://localhost:8000/suppliers"===window.location.href&&await this.getSuppliers()})()}})},924:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>a});const t=new(s(496).Sequelize)("bookstore","root","Bookstore123",{host:"localhost",dialect:"mysql"});try{await t.authenticate(),console.log("Соединение с БД было успешно установлено")}catch(t){console.log("Невозможно выполнить подключение к БД: ",t)}const a=t;o()}catch(t){o(t)}}),1)},136:(t,e,s)=>{s.a(t,(async(t,e)=>{try{s(556);var o=s(860),a=s(17),i=s(139),r=s(899),n=s(46),l=s(753),c=s(613),h=s(161),p=s(330),d=t([i,r,n,l,c,h,p]);[i,r,n,l,c,h,p]=d.then?(await d)():d;const y=a.resolve(),m=8e3,u=o();u.use(o.static(y+"/public")),u.use(o.json()),u.use("/api/books",i.Z),u.use("/api/employees",n.Z),u.use("/api/positions",l.Z),u.use("/api/customers",r.Z),u.use("/api/purchases",c.Z),u.use("/api/receipts",h.Z),u.use("/api/suppliers",p.Z),u.get("/",((t,e)=>e.sendFile("/index.html",{root:"public"}))),u.get("/books",((t,e)=>e.sendFile("/books.html",{root:"public"}))),u.get("/employees",((t,e)=>e.sendFile("/employees.html",{root:"public"}))),u.get("/positions",((t,e)=>e.sendFile("/positions.html",{root:"public"}))),u.get("/customers",((t,e)=>e.sendFile("/customers.html",{root:"public"}))),u.get("/purchases",((t,e)=>e.sendFile("/purchases.html",{root:"public"}))),u.get("/receipts",((t,e)=>e.sendFile("/receipts.html",{root:"public"}))),u.get("/suppliers",((t,e)=>e.sendFile("/suppliers.html",{root:"public"}))),u.listen(m,(()=>{console.log(`the server is started on the port = ${m}`)})),e()}catch(t){e(t)}}))},34:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{$6:()=>y,Ly:()=>c,O8:()=>h,RB:()=>l,fy:()=>n,qK:()=>p,wS:()=>d});var a=s(496),i=s(924),r=t([i]);const n=(i=(r.then?(await r)():r)[0]).Z.define("books",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},title:a.DataTypes.CHAR(75),author:a.DataTypes.CHAR(50),description:a.DataTypes.STRING,cost:a.DataTypes.INTEGER,year:a.DataTypes.INTEGER,year:a.DataTypes.INTEGER,delivery_id:a.DataTypes.INTEGER,quantity:a.DataTypes.INTEGER},{timestamps:!1}),l=i.Z.define("employees",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},last_name:a.DataTypes.CHAR(100),first_name:a.DataTypes.CHAR(100),patronymic:a.DataTypes.CHAR(100),position_id:a.DataTypes.INTEGER,phone:a.DataTypes.CHAR(20)},{timestamps:!1}),c=i.Z.define("positions",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},name:a.DataTypes.CHAR(50),salary:{type:a.DataTypes.INTEGER,defaultValue:null}},{timestamps:!1}),h=i.Z.define("customers",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},last_name:a.DataTypes.CHAR(100),first_name:a.DataTypes.CHAR(100),patronymic:a.DataTypes.CHAR(100),email:a.DataTypes.CHAR(20),phone:a.DataTypes.CHAR(20)},{timestamps:!1}),p=i.Z.define("purchases",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},book_id:a.DataTypes.INTEGER,customer_id:a.DataTypes.INTEGER,date:a.DataTypes.DATE,employee_id:a.DataTypes.INTEGER,quantity:a.DataTypes.INTEGER},{timestamps:!1}),d=i.Z.define("receipts",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},provider_id:a.DataTypes.INTEGER,date:a.DataTypes.DATE},{timestamps:!1}),y=i.Z.define("suppliers",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},name:a.DataTypes.CHAR(76),phone:a.DataTypes.CHAR(20),address:a.DataTypes.CHAR(50)},{timestamps:!1});o()}catch(t){o(t)}}))},139:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.fy.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{title:s,author:o,description:a,cost:r,year:n,quantity:l}=t.body;if(!(s||o||a||r||n||l))return e.status(204).json({detail:"all fields are required"});if((await i.fy.findAll({attributes:["id"],where:{title:s}}))[0]?.dataValues)return e.status(302).json({detail:"name is occupied"});const c=await i.fy.create({title:s,author:o,description:a,cost:r,year:n,quantity:l,delivery_id:0});e.status(201).json(c.dataValues)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{BooksId:s}=t.body;if(!s)return e.status(204).json({detail:"param BooksId is required"});s.forEach((async t=>{await i.fy.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=n;o()}catch(t){o(t)}}))},899:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.O8.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{first_name:s,last_name:o,patronymic:a,email:r,phone:n}=t.body;if(!(s||o||a||r||n))return e.status(204).json({detail:"all fields are required"});const l=await i.O8.create({first_name:s,last_name:o,patronymic:a,email:r,phone:n});e.status(201).json(l)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{customersId:s}=t.body;if(!s)return e.status(204).json({detail:"param customersId is required"});s.forEach((async t=>{await i.O8.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=n;o()}catch(t){o(t)}}))},46:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.RB.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{first_name:s,last_name:o,patronymic:a,position_id:r,phone:n}=t.body;if(!(s||o||a||r||n))return e.status(204).json({detail:"all fields are required"});const l=await i.RB.create({first_name:s,last_name:o,patronymic:a,position_id:r,phone:n});e.status(201).json(l)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{employeesId:s}=t.body;if(!s)return e.status(204).json({detail:"param employeesId is required"});s.forEach((async t=>{await i.RB.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=n;o()}catch(t){o(t)}}))},753:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.Ly.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{name:s}=t.body;if(!s)return e.status(204).json({detail:"name field is required"});if((await i.Ly.findAll({attributes:["id"],where:{name:s}}))[0]?.dataValues)return e.status(302).json({detail:"name is occupied"});const o=await i.Ly.create({name:s,salary});e.status(201).json(o)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{positionsId:s}=t.body;if(!s)return e.status(204).json({detail:"id field is required"});s.forEach((async t=>{await i.Ly.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=n;o()}catch(t){o(t)}}))},613:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(924),r=s(34),n=t([i,r]);[i,r]=n.then?(await n)():n;const l=(0,a.Router)();l.get("/",(async(t,e)=>{try{const t=await i.Z.query("\n\t\t\t\tSELECT * FROM purchases\n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT books.title AS bookTitle, books.id AS bookID FROM books\n\t\t\t\t) AS B ON purchases.book_id = bookID\n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT customers.patronymic AS customers_patronymic, customers.last_name AS customers_last_name, customers.first_name AS customers_first_name, customers.id AS customerID FROM customers\n\t\t\t\t) AS C ON purchases.customer_id = customerID\n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT employees.patronymic AS employees_patronymic, employees.last_name AS employees_last_name, employees.first_name AS employees_first_name, employees.id AS employeeID FROM employees\n\t\t\t\t) AS E ON purchases.employee_id = employeeID\n\t\t\t");e.status(200).json({items:t[0]})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{quantity:s,book_id:o,employee_id:a,customer_id:i}=t.body;if(!(s||o||a||i))return e.status(204).json({detail:"all fields are required"});const n=await r.qK.create({quantity:s,book_id:o,employee_id:a,customer_id:i,date:Date()});e.status(201).json(n)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{purchasesId:s}=t.body;if(!s)return e.status(204).json({detail:"param purchasesId is required"});s.forEach((async t=>{await r.qK.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=l;o()}catch(t){o(t)}}))},161:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(924),r=s(34),n=t([i,r]);[i,r]=n.then?(await n)():n;const l=(0,a.Router)();l.get("/",(async(t,e)=>{try{const t=await i.Z.query("\n\t\t\t\tSELECT *, receipts.id AS receiptsID FROM receipts \n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT *, suppliers.id AS providerID FROM suppliers\n\t\t\t\t) AS S ON receipts.provider_id = providerID\n\t\t\t");e.status(200).json({items:t[0]})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{providerId:s}=t.body;if(!s)return e.status(204).json({detail:"providerId field is required"});const o=await r.wS.create({provider_id:s,date:Date()});e.status(201).json(o)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{receiptsId:s}=t.body;if(!s)return e.status(204).json({detail:"id field is required"});s.forEach((async t=>{await r.wS.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=l;o()}catch(t){o(t)}}))},330:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.$6.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{name:s,phone:o,address:a}=t.body;if(!(s||o||a))return e.status(204).json({detail:"name, phone, address field is required"});const r=await i.$6.create({name:s,phone:o,address:a});e.status(201).json(r)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{suppliersId:s}=t.body;if(!s)return e.status(204).json({detail:"id field is required"});s.forEach((async t=>{await i.$6.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=n;o()}catch(t){o(t)}}))}},n={};function l(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={exports:{}};return r[t](s,s.exports,l),s.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a=t=>!--t.r&&t(),i=(t,e)=>t?t.push(e):a(e),l.a=(r,n,l)=>{var c,h,p,d=l&&[],y=r.exports,m=!0,u=!1,f=(e,s,o)=>{u||(u=!0,s.r+=e.length,e.map(((e,a)=>e[t](s,o))),u=!1)},I=new Promise(((t,e)=>{p=e,h=()=>(t(y),o(d),d=0)}));I[e]=y,I[t]=(t,e)=>{if(m)return a(t);c&&f(c,t,e),i(d,t),I.catch(e)},r.exports=I,n((r=>{var n;c=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var n=[];r.then((t=>{l[e]=t,o(n),n=0}),(t=>{l[s]=t,o(n),n=0}));var l={};return l[t]=(t,e)=>(i(n,t),r.catch(e)),l}}var c={};return c[t]=t=>a(t),c[e]=r,c})))(r);var l=()=>c.map((t=>{if(t[s])throw t[s];return t[e]})),h=new Promise(((t,e)=>{(n=()=>t(l)).r=0,f(c,n,e)}));return n.r?h:l()}),(t=>(t&&p(I[s]=t),h()))),m=!1},l.d=(t,e)=>{for(var s in e)l.o(e,s)&&!l.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),l(136)})();