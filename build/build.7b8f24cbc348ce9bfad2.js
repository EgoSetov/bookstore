(()=>{"use strict";var t,e,s,o,a,i,r={563:(t,e,s)=>{s.d(e,{Z:()=>n});var o=s(81),a=s.n(o),i=s(645),r=s.n(i)()(a());r.push([t.id,".container{\r\n\tmargin-top: 50px;\r\n}\r\n\r\n.title-header{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 10px;\r\n}\r\n\r\n.link h2{\r\n\topacity: 1;\r\n}\r\n.link a {\r\n\tposition: relative;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n}\r\n\r\n.link a:hover {\r\n\ttransition: all .2s;\r\n\tpadding-left: 10px;\r\n}",""]);const n=r},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s="",o=void 0!==e[5];return e[4]&&(s+="@supports (".concat(e[4],") {")),e[2]&&(s+="@media ".concat(e[2]," {")),o&&(s+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),s+=t(e),o&&(s+="}"),e[2]&&(s+="}"),e[4]&&(s+="}"),s})).join("")},e.i=function(t,s,o,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(o)for(var n=0;n<this.length;n++){var c=this[n][0];null!=c&&(r[c]=!0)}for(var l=0;l<t.length;l++){var p=[].concat(t[l]);o&&r[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),s&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=s):p[2]=s),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),e.push(p))}},e}},81:t=>{t.exports=function(t){return t[1]}},280:(t,e,s)=>{var o=s(379),a=s.n(o),i=s(795),r=s.n(i),n=s(569),c=s.n(n),l=s(565),p=s.n(l),h=s(216),d=s.n(h),u=s(589),m=s.n(u),y=s(563),f={};f.styleTagTransform=m(),f.setAttributes=p(),f.insert=c().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),a()(y.Z,f),y.Z&&y.Z.locals&&y.Z.locals},379:t=>{var e=[];function s(t){for(var s=-1,o=0;o<e.length;o++)if(e[o].identifier===t){s=o;break}return s}function o(t,o){for(var i={},r=[],n=0;n<t.length;n++){var c=t[n],l=o.base?c[0]+o.base:c[0],p=i[l]||0,h="".concat(l," ").concat(p);i[l]=p+1;var d=s(h),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(u);else{var m=a(u,o);o.byIndex=n,e.splice(n,0,{identifier:h,updater:m,references:1})}r.push(h)}return r}function a(t,e){var s=e.domAPI(e);return s.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;s.update(t=e)}else s.remove()}}t.exports=function(t,a){var i=o(t=t||[],a=a||{});return function(t){t=t||[];for(var r=0;r<i.length;r++){var n=s(i[r]);e[n].references--}for(var c=o(t,a),l=0;l<i.length;l++){var p=s(i[l]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}i=c}}},569:t=>{var e={};t.exports=function(t,s){var o=function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(s)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,s)=>{t.exports=function(t){var e=s.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(s){!function(t,e,s){var o="";s.supports&&(o+="@supports (".concat(s.supports,") {")),s.media&&(o+="@media ".concat(s.media," {"));var a=void 0!==s.layer;a&&(o+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),o+=s.css,a&&(o+="}"),s.media&&(o+="}"),s.supports&&(o+="}");var i=s.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,s)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},860:t=>{t.exports=require("express")},496:t=>{t.exports=require("sequelize")},17:t=>{t.exports=require("path")},556:()=>{const t=new bootstrap.Modal("#modal");document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("input#phoneCustomer"),e=document.querySelector("input#phoneEmployee");"http://localhost:8000/employees"===window.location.href?IMask(e,{mask:"{495}-00-00"}):"http://localhost:8000/customers"!==window.location.href&&"http://localhost:8000/suppliers"!==window.location.href||IMask(t,{mask:"{8}-000-000-00-00"})})),new Vue({el:"#app",data:{deleteItemsId:[],modal:{visibleCheckBox:!1,addModal:!1},positions:[],employees:[],books:[],customers:[],purchases:[],receipts:[],suppliers:[],form:{employee:{FIO:"",phone:"",position_id:""},position:{name:"",salary:""},book:{title:"",author:"",description:"",cost:"",year:"",quantity:""},customer:{FIO:"",email:"",phone:""},purchaser:{quantity:"",book_id:"",employee_id:"",customer_id:""},receipt:{providerId:""},supplier:{name:"",phone:"",address:""}}},methods:{...{async getBooks(){try{await fetch("http://localhost:8000/api/books").then((t=>t.json())).then((t=>this.books=t.items))}catch(t){console.log(t)}},async addBook(){try{const t=await fetch("http://localhost:8000/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.forms.book)}).then((t=>t.json()));t.title?(this.books=[t,...this.books],this.closeModals()):"name is occupied"===t?.detail?alert("Книга с таким названием уже есть"):alert("Не удалось добавить книгу")}catch(t){console.log(t),alert("Не удалось добавить книгу")}},async removeBooks(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/books",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({BooksId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить книгу");this.deleteItemsId.forEach((t=>{this.books=this.books.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t)}}},...{async getEmployees(){try{await fetch("http://localhost:8000/api/employees").then((t=>t.json())).then((t=>this.employees=t.items))}catch(t){console.log(t)}},async addEmployee(){try{const t=await fetch("http://localhost:8000/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:this.form.employee.FIO.split(" ")[1],last_name:this.form.employee.FIO.split(" ")[0],patronymic:this.form.employee.FIO.split(" ")[2],phone:this.form.employee.phone,position_id:this.form.employee.position_id})}).then((t=>t.json()));t.first_name?(this.employees=[t,...this.employees],this.closeModals()):alert("Не удалось добавить сотрудника")}catch(t){console.log(t),alert("Не удалось добавить сотрудника")}},async removeEmployee(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/employees",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeesId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить сотрудника");this.deleteItemsId.forEach((t=>{this.employees=this.employees.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить сотрудника")}}},...{async getPositions(){try{await fetch("http://localhost:8000/api/positions").then((t=>t.json())).then((t=>this.positions=t.items))}catch(t){console.log(t)}},async addPosition(){try{const t=await fetch("http://localhost:8000/api/positions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.form.position.name[0].toUpperCase()+this.form.position.name.slice(1),salary:this.form.position.salary||null})}).then((t=>t.json()));t?.name?(this.positions=[t,...this.positions],this.closeModals()):"name is occupied"===t?.detail?alert("Должность с таким названием уже существует"):alert("Не удалось добавить должность")}catch(t){console.log(t),alert("Не удалось добавить должность")}},async removePosition(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/positions",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({positionsId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить должность");this.deleteItemsId.forEach((t=>{this.positions=this.positions.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить должность")}},getPositionName(t){return this.positions?.filter((e=>e.id===t))[0]?.name}},...{async getCustomers(){try{await fetch("http://localhost:8000/api/customers").then((t=>t.json())).then((t=>this.customers=t.items))}catch(t){console.log(t)}},async addCustomer(){try{const t=await fetch("http://localhost:8000/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:this.form.customer.FIO.split(" ")[1],last_name:this.form.customer.FIO.split(" ")[0],patronymic:this.form.customer.FIO.split(" ")[2],email:this.form.customer.email,phone:this.form.customer.phone})}).then((t=>t.json()));t?.first_name?(this.customers=[t,...this.customers],this.closeModals()):alert("Не удалось добавить клиента")}catch(t){console.log(t),alert("Не удалось добавить клиента")}},async removeCustomer(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/customers",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({customersId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.customers=this.customers.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},...{async getPurchases(){try{await fetch("http://localhost:8000/api/purchases").then((t=>t.json())).then((t=>this.purchases=t.items))}catch(t){console.log(t)}},async addPurchaser(){try{(await fetch("http://localhost:8000/api/purchases",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:this.form.purchaser.quantity,book_id:this.form.purchaser.book_id,employee_id:this.form.purchaser.employee_id,customer_id:this.form.purchaser.customer_id})}).then((t=>t.json())))?.quantity?(this.closeModals(),await this.getPurchases()):alert("Не удалось добавить клиента")}catch(t){console.log(t),alert("Не удалось добавить клиента")}},async removePurchaser(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/purchases",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({purchasesId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.purchases=this.purchases.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},...{async getReceipts(){try{await fetch("http://localhost:8000/api/receipts").then((t=>t.json())).then((t=>this.receipts=t.items))}catch(t){console.log(t)}},async addReceipt(){try{(await fetch("http://localhost:8000/api/receipts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({providerId:this.form.receipt.providerId})}).then((t=>t.json())))?.date?(this.closeModals(),await this.getReceipts()):alert("Не удалось добавить поступление")}catch(t){console.log(t),alert("Не удалось добавить поступление")}},async removeReceipt(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/receipts",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiptsId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.receipts=this.receipts.filter((e=>e.receiptsID!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},...{async getSuppliers(){try{await fetch("http://localhost:8000/api/suppliers").then((t=>t.json())).then((t=>this.suppliers=t.items))}catch(t){console.log(t)}},async addSupplier(){try{const t=await fetch("http://localhost:8000/api/suppliers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${this.form.supplier.name.split(" ")[0]} "${this.form.supplier.name.split(" ")[1]}"`,phone:this.form.supplier.phone,address:this.form.supplier.address})}).then((t=>t.json()));t?.name?(this.suppliers=[t,...this.suppliers],this.closeModals()):alert("Не удалось добавить клиента")}catch(t){console.log(t),alert("Не удалось добавить клиента")}},async removeSupplier(){try{if(!this.deleteItemsId.length)return this.modal.visibleCheckBox=!1;if((await fetch("http://localhost:8000/api/suppliers",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({suppliersId:this.deleteItemsId})}).then((t=>t.json())))?.detail)return alert("Не удалось удалить клиента");this.deleteItemsId.forEach((t=>{this.suppliers=this.suppliers.filter((e=>e.id!==t))})),this.modal.visibleCheckBox=!1}catch(t){console.log(t),alert("Не удалось удалить клиента")}}},closeModals(){this.modal.addModal=!1,t.hide()},pushIdForDelete(t){this.deleteItemsId.includes(t)?this.deleteItemsId=this.deleteItemsId.filter((e=>e!=t)):this.deleteItemsId.push(t)},showCheckBox(){this.modal.visibleCheckBox=!this.modal.visibleCheckBox,this.deleteItemsId=[]},showModal(){this.modal.addModal=!this.modal.addModal,t.show()}},mounted(){(async()=>{const t=window.location.toString().split("/")[window.location.toString().split("/").length-1].split(".")[0];"books"===t?await this.getBooks():"employees"===t?(await this.getEmployees(),await this.getPositions()):"positions"===t?await this.getPositions():"customers"===t?await this.getCustomers():"purchases"===t?await this.getPurchases():"receipts"===t?(await this.getReceipts(),await this.getSuppliers()):"suppliers"===t&&await this.getSuppliers()})()}})},924:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>a});const t=new(s(496).Sequelize)("bookstore","root","Bookstore123",{host:"localhost",dialect:"mysql"});try{await t.authenticate(),console.log("Соединение с БД было успешно установлено")}catch(t){console.log("Невозможно выполнить подключение к БД: ",t)}const a=t;o()}catch(t){o(t)}}),1)},136:(t,e,s)=>{s.a(t,(async(t,e)=>{try{s(556),s(280);var o=s(860),a=s(17),i=s(139),r=s(899),n=s(46),c=s(753),l=s(613),p=s(161),h=s(330),d=t([i,r,n,c,l,p,h]);[i,r,n,c,l,p,h]=d.then?(await d)():d;const u=a.resolve(),m=8e3,y=o();y.use(o.static(u+"/public")),y.use(o.json()),y.use("/api/books",i.Z),y.use("/api/employees",n.Z),y.use("/api/positions",c.Z),y.use("/api/customers",r.Z),y.use("/api/purchases",l.Z),y.use("/api/receipts",p.Z),y.use("/api/suppliers",h.Z),y.get("/",((t,e)=>e.sendFile("/index.html",{root:"public"}))),y.get("/books",((t,e)=>e.sendFile("/books.html",{root:"public"}))),y.get("/employees",((t,e)=>e.sendFile("/employees.html",{root:"public"}))),y.get("/positions",((t,e)=>e.sendFile("/positions.html",{root:"public"}))),y.get("/customers",((t,e)=>e.sendFile("/customers.html",{root:"public"}))),y.get("/purchases",((t,e)=>e.sendFile("/purchases.html",{root:"public"}))),y.get("/receipts",((t,e)=>e.sendFile("/receipts.html",{root:"public"}))),y.get("/suppliers",((t,e)=>e.sendFile("/suppliers.html",{root:"public"}))),y.listen(m,(()=>{console.log(`the server is started on the port = ${m}`)})),e()}catch(t){e(t)}}))},34:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{$6:()=>u,Ly:()=>l,O8:()=>p,RB:()=>c,fy:()=>n,qK:()=>h,wS:()=>d});var a=s(496),i=s(924),r=t([i]);const n=(i=(r.then?(await r)():r)[0]).Z.define("books",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},title:a.DataTypes.CHAR(75),author:a.DataTypes.CHAR(50),description:a.DataTypes.STRING,cost:a.DataTypes.INTEGER,year:a.DataTypes.INTEGER,year:a.DataTypes.INTEGER,delivery_id:a.DataTypes.INTEGER,quantity:a.DataTypes.INTEGER},{timestamps:!1}),c=i.Z.define("employees",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},last_name:a.DataTypes.CHAR(100),first_name:a.DataTypes.CHAR(100),patronymic:a.DataTypes.CHAR(100),position_id:a.DataTypes.INTEGER,phone:a.DataTypes.CHAR(20)},{timestamps:!1}),l=i.Z.define("positions",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},name:a.DataTypes.CHAR(50),salary:{type:a.DataTypes.INTEGER,defaultValue:null}},{timestamps:!1}),p=i.Z.define("customers",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},last_name:a.DataTypes.CHAR(100),first_name:a.DataTypes.CHAR(100),patronymic:a.DataTypes.CHAR(100),email:a.DataTypes.CHAR(20),phone:a.DataTypes.CHAR(20)},{timestamps:!1}),h=i.Z.define("purchases",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},book_id:a.DataTypes.INTEGER,customer_id:a.DataTypes.INTEGER,date:a.DataTypes.DATE,employee_id:a.DataTypes.INTEGER,quantity:a.DataTypes.INTEGER},{timestamps:!1}),d=i.Z.define("receipts",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},provider_id:a.DataTypes.INTEGER,date:a.DataTypes.DATE},{timestamps:!1}),u=i.Z.define("suppliers",{id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0},name:a.DataTypes.CHAR(76),phone:a.DataTypes.CHAR(20),address:a.DataTypes.CHAR(50)},{timestamps:!1});o()}catch(t){o(t)}}))},139:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.fy.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{title:s,author:o,description:a,cost:r,year:n,quantity:c}=t.body;if(!(s||o||a||r||n||c))return e.status(204).json({detail:"all fields are required"});if((await i.fy.findAll({attributes:["id"],where:{title:s}}))[0]?.dataValues)return e.status(302).json({detail:"name is occupied"});const l=await i.fy.create({title:s,author:o,description:a,cost:r,year:n,quantity:c,delivery_id:0});e.status(201).json(l.dataValues)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{BooksId:s}=t.body;if(!s)return e.status(204).json({detail:"param BooksId is required"});s.forEach((async t=>{await i.fy.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=n;o()}catch(t){o(t)}}))},899:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.O8.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{first_name:s,last_name:o,patronymic:a,email:r,phone:n}=t.body;if(!(s||o||a||r||n))return e.status(204).json({detail:"all fields are required"});const c=await i.O8.create({first_name:s,last_name:o,patronymic:a,email:r,phone:n});e.status(201).json(c)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{customersId:s}=t.body;if(!s)return e.status(204).json({detail:"param customersId is required"});s.forEach((async t=>{await i.O8.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=n;o()}catch(t){o(t)}}))},46:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.RB.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{first_name:s,last_name:o,patronymic:a,position_id:r,phone:n}=t.body;if(!(s||o||a||r||n))return e.status(204).json({detail:"all fields are required"});const c=await i.RB.create({first_name:s,last_name:o,patronymic:a,position_id:r,phone:n});e.status(201).json(c)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{employeesId:s}=t.body;if(!s)return e.status(204).json({detail:"param employeesId is required"});s.forEach((async t=>{await i.RB.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=n;o()}catch(t){o(t)}}))},753:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.Ly.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{name:s}=t.body;if(!s)return e.status(204).json({detail:"name field is required"});if((await i.Ly.findAll({attributes:["id"],where:{name:s}}))[0]?.dataValues)return e.status(302).json({detail:"name is occupied"});const o=await i.Ly.create({name:s,salary});e.status(201).json(o)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{positionsId:s}=t.body;if(!s)return e.status(204).json({detail:"id field is required"});s.forEach((async t=>{await i.Ly.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=n;o()}catch(t){o(t)}}))},613:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(924),r=s(34),n=t([i,r]);[i,r]=n.then?(await n)():n;const c=(0,a.Router)();c.get("/",(async(t,e)=>{try{const t=await i.Z.query("\n\t\t\t\tSELECT * FROM purchases\n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT books.title AS bookTitle, books.id AS bookID FROM books\n\t\t\t\t) AS B ON purchases.book_id = bookID\n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT customers.patronymic AS customers_patronymic, customers.last_name AS customers_last_name, customers.first_name AS customers_first_name, customers.id AS customerID FROM customers\n\t\t\t\t) AS C ON purchases.customer_id = customerID\n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT employees.patronymic AS employees_patronymic, employees.last_name AS employees_last_name, employees.first_name AS employees_first_name, employees.id AS employeeID FROM employees\n\t\t\t\t) AS E ON purchases.employee_id = employeeID\n\t\t\t");e.status(200).json({items:t[0]})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{quantity:s,book_id:o,employee_id:a,customer_id:i}=t.body;if(!(s||o||a||i))return e.status(204).json({detail:"all fields are required"});const n=await r.qK.create({quantity:s,book_id:o,employee_id:a,customer_id:i,date:Date()});e.status(201).json(n)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{purchasesId:s}=t.body;if(!s)return e.status(204).json({detail:"param purchasesId is required"});s.forEach((async t=>{await r.qK.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=c;o()}catch(t){o(t)}}))},161:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>l});var a=s(860),i=s(924),r=s(34),n=t([i,r]);[i,r]=n.then?(await n)():n;const c=(0,a.Router)();c.get("/",(async(t,e)=>{try{const t=await i.Z.query("\n\t\t\t\tSELECT *, receipts.id AS receiptsID FROM receipts \n\t\t\t\tJOIN (\n\t\t\t\t\tSELECT *, suppliers.id AS providerID FROM suppliers\n\t\t\t\t) AS S ON receipts.provider_id = providerID\n\t\t\t");e.status(200).json({items:t[0]})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{providerId:s}=t.body;if(!s)return e.status(204).json({detail:"providerId field is required"});const o=await r.wS.create({provider_id:s,date:Date()});e.status(201).json(o)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{receiptsId:s}=t.body;if(!s)return e.status(204).json({detail:"id field is required"});s.forEach((async t=>{await r.wS.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const l=c;o()}catch(t){o(t)}}))},330:(t,e,s)=>{s.a(t,(async(t,o)=>{try{s.d(e,{Z:()=>c});var a=s(860),i=s(34),r=t([i]);i=(r.then?(await r)():r)[0];const n=(0,a.Router)();n.get("/",(async(t,e)=>{try{const t=await i.$6.findAll();e.status(200).json({items:t})}catch(t){console.log(t),e.status(500).json("server has problems")}})).post("/",(async(t,e)=>{try{const{name:s,phone:o,address:a}=t.body;if(!(s||o||a))return e.status(204).json({detail:"name, phone, address field is required"});const r=await i.$6.create({name:s,phone:o,address:a});e.status(201).json(r)}catch(t){console.log(t),e.status(500).json("server has problems")}})).delete("/",(async(t,e)=>{try{const{suppliersId:s}=t.body;if(!s)return e.status(204).json({detail:"id field is required"});s.forEach((async t=>{await i.$6.destroy({where:{id:t}})})),e.status(200).json("successfully deleted")}catch(t){console.log(t),e.status(500).json("server has problems")}}));const c=n;o()}catch(t){o(t)}}))}},n={};function c(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={id:t,exports:{}};return r[t](s,s.exports,c),s.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a=t=>!--t.r&&t(),i=(t,e)=>t?t.push(e):a(e),c.a=(r,n,c)=>{var l,p,h,d=c&&[],u=r.exports,m=!0,y=!1,f=(e,s,o)=>{y||(y=!0,s.r+=e.length,e.map(((e,a)=>e[t](s,o))),y=!1)},b=new Promise(((t,e)=>{h=e,p=()=>(t(u),o(d),d=0)}));b[e]=u,b[t]=(t,e)=>{if(m)return a(t);l&&f(l,t,e),i(d,t),b.catch(e)},r.exports=b,n((r=>{var n;l=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var n=[];r.then((t=>{c[e]=t,o(n),n=0}),(t=>{c[s]=t,o(n),n=0}));var c={};return c[t]=(t,e)=>(i(n,t),r.catch(e)),c}}var l={};return l[t]=t=>a(t),l[e]=r,l})))(r);var c=()=>l.map((t=>{if(t[s])throw t[s];return t[e]})),p=new Promise(((t,e)=>{(n=()=>t(c)).r=0,f(l,n,e)}));return n.r?p:c()}),(t=>(t&&h(b[s]=t),p()))),m=!1},c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},c.d=(t,e)=>{for(var s in e)c.o(e,s)&&!c.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c.nc=void 0,c(136)})();